(window.webpackJsonp=window.webpackJsonp||[]).push([[11],{394:function(t,e,r){var content=r(405);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,r(34).default)("65552cf0",content,!0,{sourceMap:!1})},404:function(t,e,r){"use strict";r(394)},405:function(t,e,r){var n=r(33)((function(i){return i[1]}));n.push([t.i,".ProductItem[data-v-9865d91a]{height:100%;text-align:center}.ProductItem:hover .ProductItem__image .v-image[data-v-9865d91a]{transform:scale(1.1)}.ProductItem__link[data-v-9865d91a]{color:inherit;display:flex;flex-flow:column;font:inherit;height:100%;-webkit-text-decoration:none;text-decoration:none}.ProductItem__title[data-v-9865d91a]{justify-content:center;white-space:break-spaces;word-break:normal}.ProductItem__text[data-v-9865d91a]{margin-top:auto}.ProductItem__image[data-v-9865d91a]{overflow:hidden}.ProductItem__image .v-image[data-v-9865d91a]{transition:transform .3s}",""]),n.locals={},t.exports=n},409:function(t,e,r){"use strict";r.r(e);var n=r(415),o=r(435),c=r(392),d=r(258),l=r(387),f=(r(35),r(260),r(63),r(75),r(119)),m={props:{cart:{type:Boolean,default:!1},product:{type:Object,required:!0}},computed:{productPath:function(){return Object(f.b)(f.a.PRODUCT,{id:this.product.id})},isInCart:function(){return this.$store.getters["products/getCartProductIds"].includes(this.product.id)}},methods:{addToCart:function(){this.$store.commit("products/addToCart",this.product.id)},removeFromCart:function(){this.$store.commit("products/removeFromCart",this.product.id)}}},_=Object.assign(m,{__name:"ProductItem",setup:function(t){return{__sfc:!0,LocalPath:f.a}}}),v=(r(404),r(83)),component=Object(v.a)(_,(function(){var t=this,e=t._self._c,r=t._self._setupProxy;return e(o.a,{staticClass:"ProductItem",attrs:{elevation:"0"}},[e("NuxtLink",{staticClass:"ProductItem__link",attrs:{to:t.productPath}},[e("div",{staticClass:"ProductItem__image"},[e(d.a,{attrs:{src:t.product.thumbnailUrl,cover:""}})],1),t._v(" "),e(c.c,{staticClass:"ProductItem__title"},[t._v("\n      "+t._s(t.product.name)+"\n    ")]),t._v(" "),e(c.b,{staticClass:"ProductItem__text"},[t._v("\n      "+t._s(t.product.price.toFixed(2))+"₽\n    ")]),t._v(" "),e(c.a,[e(l.a),t._v(" "),!t.cart&&t.isInCart?e("NuxtLink",{attrs:{to:r.LocalPath.CART}},[e(n.a,{attrs:{elevation:"0",outlined:""}},[t._v("\n          В корзину\n        ")])],1):t._e(),t._v(" "),t.cart||t.isInCart?t._e():e(n.a,{attrs:{elevation:"0",outlined:""},on:{click:function(e){return e.preventDefault(),t.addToCart.apply(null,arguments)}}},[t._v("\n        Купить\n      ")]),t._v(" "),t.cart?e(n.a,{attrs:{elevation:"0",outlined:""},on:{click:function(e){return e.preventDefault(),t.removeFromCart.apply(null,arguments)}}},[t._v("\n        Удалить\n      ")]):t._e(),t._v(" "),e(l.a)],1)],1)],1)}),[],!1,null,"9865d91a",null);e.default=component.exports},414:function(t,e,r){"use strict";r.d(e,"a",(function(){return x}));var n=r(28),o=r(18),c=r(19),d=(r(97),r(119)),l="categories",f="categories/:id",m="products",_="products/:id",v=function(data){return data.items},h=function(data){return data},P=function(data){return data.items},y=function(data){return data},C=function(){function t(){Object(o.a)(this,t)}var e,r,C,x;return Object(c.a)(t,[{key:"getCategories",value:(x=Object(n.a)(regeneratorRuntime.mark((function t(e){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",e.$get(l).then(v));case 1:case"end":return t.stop()}}),t)}))),function(t){return x.apply(this,arguments)})},{key:"getCategory",value:(C=Object(n.a)(regeneratorRuntime.mark((function t(e,r){var n;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=Object(d.b)(f,{id:r}),t.abrupt("return",e.$get(n).then(h));case 2:case"end":return t.stop()}}),t)}))),function(t,e){return C.apply(this,arguments)})},{key:"getProducts",value:(r=Object(n.a)(regeneratorRuntime.mark((function t(e,r){var n;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n={categories:r},t.abrupt("return",e.$get(m,{params:n}).then(P));case 2:case"end":return t.stop()}}),t)}))),function(t,e){return r.apply(this,arguments)})},{key:"getProduct",value:(e=Object(n.a)(regeneratorRuntime.mark((function t(e,r){var n;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=Object(d.b)(_,{id:r}),t.abrupt("return",e.$get(n).then(y));case 2:case"end":return t.stop()}}),t)}))),function(t,r){return e.apply(this,arguments)})}]),t}(),x=new C},416:function(t,e,r){"use strict";r.r(e);var n=r(456),o=r(391),c=r(455),d={props:{center:{type:Boolean,default:!1},cart:{type:Boolean,default:!1},products:{type:Array,required:!0}},emits:["addToCart"]},l=r(83),component=Object(l.a)(d,(function(){var t=this,e=t._self._c;return e(o.a,{attrs:{fluid:""}},[e(c.a,{attrs:{justify:t.center?"center":"start"}},t._l(t.products,(function(r){return e(n.a,{key:r.id,attrs:{cols:"3"}},[e("ProductItem",{attrs:{cart:t.cart,product:r}})],1)})),1)],1)}),[],!1,null,"7015c4d8",null);e.default=component.exports;installComponents(component,{ProductItem:r(409).default})},457:function(t,e,r){"use strict";r.r(e);var n=r(461),o=r(420),c=r(412),d=r(413),l=r(415),f=r(435),m=r(392),_=r(379),v=r(387),h=r(28),P=(r(97),r(448),r(57),r(20),r(7),r(414)),y=r(119),C={asyncData:function(t){return Object(h.a)(regeneratorRuntime.mark((function e(){var r,n;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.$axios,e.next=3,P.a.getProducts(r);case 3:return n=e.sent,e.abrupt("return",{idToProduct:Object.fromEntries(n.map((function(t){return[t.id,t]})))});case 5:case"end":return e.stop()}}),e)})))()},data:function(){return{idToProduct:{},ordering:!1}},computed:{cartProducts:function(){var t=this;return this.$store.getters["products/getCartProductIds"].map((function(e){return t.idToProduct[e]})).filter(Boolean)},empty:function(){return 0===this.cartProducts.length}},methods:{order:function(){this.$store.commit("products/clearCart"),this.ordering=!0}}},x=Object.assign(C,{__name:"cart",setup:function(t){return{__sfc:!0,LocalPath:y.a}}}),k=r(83),component=Object(k.a)(x,(function(){var t=this,e=t._self._c,r=t._self._setupProxy;return e(f.a,{staticClass:"Cart",attrs:{elevation:"0"}},[e(m.c,[t._v("Корзина")]),t._v(" "),e(m.b,[e(o.a,{staticClass:"px-0",attrs:{large:""}},[e(d.a,{attrs:{to:r.LocalPath.INDEX}},[t._v("\n        Главная\n      ")]),t._v(" "),e(c.a,[e(_.a,[t._v("mdi-chevron-right")])],1),t._v(" "),e(d.a,{attrs:{to:r.LocalPath.CART}},[t._v("\n        Корзина\n      ")])],1)],1),t._v(" "),t.ordering?t._e():[t.empty?e(m.b,{staticClass:"text-h6"},[t._v("\n      В вашей корзине пока нет товаров...\n    ")]):t._e(),t._v(" "),t.empty?t._e():e("ProductList",{attrs:{cart:"",products:t.cartProducts}}),t._v(" "),t.empty?t._e():e(m.a,{staticClass:"mt-10"},[e(v.a),t._v(" "),e(l.a,{attrs:{color:"primary",elevation:"0",outlined:""},on:{click:t.order}},[t._v("\n        Оформить заказ\n      ")]),t._v(" "),e(v.a)],1)],t._v(" "),t.ordering?e(n.a,{attrs:{type:"success",dismissible:""},on:{input:function(e){t.ordering=!1}}},[t._v("\n    Поздравляем с покупкой!\n  ")]):t._e()],2)}),[],!1,null,"8bdfe8c0",null);e.default=component.exports;installComponents(component,{ProductList:r(416).default})}}]);